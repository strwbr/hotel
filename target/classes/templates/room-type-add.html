<!DOCTYPE html>
<!-- Подключение thymeleaf и thymeleaf для Spring Security -->
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- Подключение Bootstrap -->
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    />
    <title>HMS: Room Type Add</title>

    <style>
        #extraBedParamBlock {
            display: none;
        }
        #extraBedToggle:checked ~ #extraBedParamBlock {
            display: block;
        }

    </style>
</head>
<body>
<header th:insert="blocks/navbar :: navbar"></header>
<div class="container">
    <h1>Добавление нового типа номера</h1>

    <form action="/room_type/add" method="post">
        <div>
            <label for="">Наименование</label>
            <input type="text" name="name"/>
        </div>
        <div>
            <label for="">Описание</label>
            <textarea
                    name="description"
                    style="height: 50px"
                    placeholder="Описание"
            ></textarea>
        </div>
        <div>
            <label for="">Вместимость (базовая)</label>
            <input type="number" name="baseCapacity" min="0"/>
        </div>
        <div>
            <label for="">Вместимость (максимальная)</label>
            <input type="number" name="maxCapacity" min="0" readonly/>
        </div>
        <div>
            <label for="">Тип кровати</label>
            <input type="checkbox" name="selectedBedTypes"
                   th:each="i : ${bedTypeNames}"
                   th:text="${i.name}"
                   th:value="${i.id}"/>
        </div>
        <div>
            <label class="form-check-label" for="extraBedToggle"
            >Дополнительные спальные места</label
            >
            <input type="checkbox"
                   name="extraBedToggle"
                   id="extraBedToggle"
                   onchange="toggleDiv()"
            />
            <!-- Появляется, когда выбран чек-бокс -->
            <div id="extraBedParamBlock">
                <div>
                    <label for="">Количество</label>
                    <input type="number" name="extraBedAmount"/>
                </div>
                <div>
                    <label for="">Тип</label>
                    <select name="selectedExtraBedType">
                        <option selected disabled>Выберите...</option>
                        <option th:each="i : ${bedTypeNames}" th:value="${i.id}" th:text="${i.name}"></option>
                    </select>
                </div>
            </div>
        </div>
        <div>
            <!-- checkboxes -->
            <label class="form-label" for="">Дополнительные услуги</label>
            <input type="checkbox" name="selectedAdditionalServices"
                   th:each="i : ${additionalServiceNames}"
                   th:text="${i.name}"
                   th:value="${i.id}"/>
        </div>
        <div>
            <!-- checkboxes -->
            <label class="form-label" for="">Оснащение</label>
            <input type="checkbox" name="selectedRoomEquipments"
                   th:each="i : ${roomEquipmentNames}"
                   th:text="${i.name}"
                   th:value="${i.id}"/>
        </div>


        <div>
            <button type="submit" class="btn btn-primary">Подтвердить</button>
            <button class="btn btn-outline-primary" href="">Отмена</button>
        </div>
    </form>


</div>

<!-- Подключение скриптов -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<script>
      var checkbox = document.getElementById("extraBedToggle");
      var div = document.getElementById("extraBedParamBlock");

      checkbox.addEventListener("change", function() {
        if (this.checked) {
          div.style.display = "block";
        } else {
          div.style.display = "none";
        }
      });









</script>

</body>
</html>
